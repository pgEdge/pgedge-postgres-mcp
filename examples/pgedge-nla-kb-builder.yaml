# pgEdge Knowledgebase Builder Configuration Example

# Output database path (optional, defaults to pgedge-nla-kb.db in same directory as config)
database_path: "bin/pgedge-nla-kb.db"

# Directory for storing downloaded/processed documentation (optional, defaults to doc-source)
doc_source_path: "bin/doc-source"

# Documentation sources
sources:
    - git_url: "https://github.com/postgres/postgres.git"
      tag: "REL_18_1"
      doc_path: "doc/src/sgml"
      project_name: "PostgreSQL"
      project_version: "18"

    - git_url: "https://github.com/postgres/postgres.git"
      tag: "REL_17_7"
      doc_path: "doc/src/sgml"
      project_name: "PostgreSQL"
      project_version: "17"

    - git_url: "https://github.com/postgres/postgres.git"
      tag: "REL_16_11"
      doc_path: "doc/src/sgml"
      project_name: "PostgreSQL"
      project_version: "16"

    - git_url: "https://github.com/postgres/postgres.git"
      tag: "REL_15_15"
      doc_path: "doc/src/sgml"
      project_name: "PostgreSQL"
      project_version: "15"

    - git_url: "https://github.com/postgres/postgres.git"
      tag: "REL_14_20"
      doc_path: "doc/src/sgml"
      project_name: "PostgreSQL"
      project_version: "14"

    - git_url: "https://github.com/pgadmin-org/pgadmin4.git"
      tag: "REL-9_10"
      doc_path: "docs/en_US"
      project_name: "pgAdmin 4"
      project_version: "9.10"

    - git_url: "https://github.com/pgadmin-org/pgadmin4.git"
      tag: "REL-8_14"
      doc_path: "docs/en_US"
      project_name: "pgAdmin 4"
      project_version: "8.14"

    - git_url: "https://github.com/pgadmin-org/pgadmin4.git"
      tag: "REL-7_8"
      doc_path: "docs/en_US"
      project_name: "pgAdmin 4"
      project_version: "7.8"

    - git_url: "git@github.com:pgEdge/pgedge-docs.git"
      branch: "main"
      doc_path: "docs/cloud"
      project_name: "pgEdge Cloud"
      project_version: ""

    - git_url: "git@github.com:pgEdge/pgedge-docs.git"
      branch: "main"
      doc_path: "docs/platform"
      project_name: "pgEdge Platform"

    - git_url: "git@github.com:pgEdge/pgedge-docs.git"
      branch: "main"
      doc_path: "docs/enterprise"
      project_name: "pgEdge Enterprise"

    - git_url: "https://github.com/pgEdge/pgedge-postgres-mcp.git"
      tag: "v1.0.0-beta1"
      doc_path: "docs"
      project_name: "pgEdge Postgres MCP"
      project_version: "1.0.0-beta1"

    - git_url: "https://github.com/pgEdge/pgedge-anonymizer.git"
      tag: "v1.0.0-beta2"
      doc_path: "docs"
      project_name: "pgEdge Anonymizer"
      project_version: "1.0.0-beta2"

    - git_url: "https://github.com/pgEdge/pgedge-docloader.git"
      tag: "v1.0.0-beta1"
      doc_path: "docs"
      project_name: "pgEdge Docloader"
      project_version: "1.0.0-beta1"

    - git_url: "https://github.com/pgEdge/pgedge-rag-server.git"
      tag: "v1.0.0-beta2"
      doc_path: "docs"
      project_name: "pgEdge RAG Server"
      project_version: "1.0.0-beta2"

    - git_url: "https://github.com/pgEdge/spock.git"
      tag: "v5.0.4"
      doc_path: "docs"
      project_name: "Spock"
      project_version: "5.0.4"

    - git_url: "https://github.com/pgEdge/control-plane.git"
      tag: "v0.6.1"
      doc_path: "docs"
      project_name: "pgEdge Control Plane"
      project_version: "0.6.1"

    - git_url: "https://github.com/pgEdge/snowflake.git"
      tag: "v2.4"
      doc_path: "docs"
      project_name: "pgEdge Snowflake"
      project_version: "2.4"

    - git_url: "https://github.com/pgEdge/lolor.git"
      branch: "v1.2.2"
      doc_path: "docs"
      project_name: "pgEdge LOLOR"
      project_version: "1.2.2"

    - git_url: "https://github.com/pgEdge/pgedge-helm.git"
      tag: "v0.1.0"
      doc_path: "docs"
      project_name: "pgEdge Helm"
      project_version: "0.1.0"

    - git_url: "https://github.com/pgEdge/ace.git"
      tag: "v1.4.2"
      doc_path: "docs"
      project_name: "pgEdge ACE"
      project_version: "1.4.2"

    - git_url: "https://github.com/pgEdge/pgedge-vectorizer.git"
      tag: "v1.0-beta1"
      doc_path: "docs"
      project_name: "pgEdge Vectorizer"
      project_version: "1.0-beta1"

    - git_url: "https://github.com/pgbouncer/pgbouncer.git"
      tag: "pgbouncer_1_25_0"
      doc_path: "doc"
      project_name: "PgBouncer"
      project_version: "1.25.0"

    - git_url: "https://github.com/pgbackrest/pgbackrest.git"
      tag: "release/2.57.0"
      doc_path: "doc"
      project_name: "pgBackRest"
      project_version: "2.57.0"

    - git_url: "https://github.com/postgis/postgis.git"
      tag: "3.5.3"
      doc_path: "doc"
      project_name: "PostGIS"
      project_version: "3.5.3"

    - git_url: "https://github.com/pgvector/pgvector.git"
      tag: "v0.8.1"
      doc_path: ""
      project_name: "pgvector"
      project_version: "0.8.1"

    - git_url: "https://github.com/pgaudit/pgaudit.git"
      tag: "18.0"
      doc_path: ""
      project_name: "pgAudit"
      project_version: "18.0"

    - git_url: "https://github.com/psycopg/psycopg.git"
      tag: "2.9.10"
      doc_path: "docs"
      project_name: "psycopg3"
      project_version: "2.9.10"

    # Example: Local documentation
    # - local_path: "~/projects/my-docs"
    #   doc_path: "docs"  # Optional subdirectory within local_path
    #   project_name: "My Project"
    #   project_version: "1.0"  # Optional - can be omitted for unversioned docs

# Embedding provider configurations
embeddings:
    # OpenAI embeddings
    openai:
        enabled: true
        api_key_file: "~/.openai-api-key"  # Defaults to ~/.openai-api-key
        model: "text-embedding-3-small"     # Defaults to text-embedding-3-small
        dimensions: 1536                     # Model-specific, defaults to 1536

    # Voyage AI embeddings
    voyage:
        enabled: true
        api_key_file: "~/.voyage-api-key"   # Defaults to ~/.voyage-api-key
        model: "voyage-3"                    # Defaults to voyage-3

    # Ollama local embeddings
    ollama:
        enabled: true
        endpoint: "http://localhost:11434"  # Defaults to http://localhost:11434
        model: "nomic-embed-text"            # Defaults to nomic-embed-text

# Notes:
# - At least one embedding provider must be enabled
# - The MCP server will use embeddings from the configured provider(s)
# - For Git sources, you can specify either 'branch' or 'tag', not both
# - Supported document formats: Markdown (.md), HTML (.html, .htm),
#   reStructuredText (.rst), SGML (.sgml, .sgm), DocBook XML (.xml)
